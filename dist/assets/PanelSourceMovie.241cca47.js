import{e as N,r as p,bg as S,o as U,bh as V,v as z,A,B as o,I as E,C as e,D as l,y as _,_ as f,h as m}from"./index.8b05d2db.js";import{S as v,c as O}from"./public.74b6a4e1.js";import{p as j}from"./path.1400e915.js";import{d as I,i as F,j as R}from"./api.c6d946e3.js";import{F as G}from"./FlashOutline.d02c0a1e.js";import{A as K,R as P}from"./RefreshCircleOutline.9daf51b0.js";import{u as $}from"./use-notification.f01e528c.js";import{N as q}from"./Icon.f91ce72e.js";import{_ as g}from"./Space.8b851021.js";import{_ as H}from"./Input.2a55a58b.js";import{_ as J}from"./DataTable.da1bfc19.js";import{_ as L}from"./Pagination.44131b6c.js";import"./index.80337ce4.js";import"./base.12718b58.js";import"./data.527e3bf3.js";import"./use-merged-state.9d6ecddd.js";import"./get-slot.40f09d44.js";import"./Checkbox.6643e550.js";import"./Tooltip.46b12594.js";import"./next-frame-once.da993024.js";import"./Dropdown.03da667d.js";import"./create.eac446e4.js";import"./Ellipsis.c629414d.js";import"./Tag.45a4c426.js";const Q={style:{display:"flex","align-items":"center",height:"100%"}},T={style:{display:"flex","align-items":"center",height:"100%"}},W={style:{"margin-top":"15px","margin-bottom":"10px"}},Fe=N({__name:"PanelSourceMovie",setup(X){j.value=[{name:"\u91C7\u96C6\u6E90",params:null,to:""},{name:"\u5F71\u7247",params:null,to:""}];const k=p([{title:"ID",key:"id",width:"100px",align:"center"},{title:"\u5F71\u7247\u540D",key:"name",width:"200px",ellipsis:!0,align:"center",render(u,t){return m(v,{value:u.name,onUpdateValue(n){a.value[t].name=n}})}},{title:"\u65F6\u957F",key:"duration",width:"100px",align:"center",render(u,t){return m(v,{value:u.duration,onUpdateValue(n){a.value[t].duration=n}})}},{title:"\u7B80\u4ECB",key:"description",ellipsis:!0,align:"center",render(u,t){return m(v,{value:u.description,onUpdateValue(n){a.value[t].description=n}})}},{title:"\u5BFC\u6F14",key:"director",ellipsis:!0,align:"center",width:"200px"},{title:"\u64CD\u4F5C",key:"action",width:"150px",align:"center",render(u,t){return m(g,{justify:"center"},()=>m(f,{secondary:!0,type:"error",size:"small",onClick:()=>{I(u.id).then(()=>{C(),w.success({duration:2e3,content:"\u5220\u9664",meta:"\u64CD\u4F5C\u6210\u529F"})})}},()=>"\u5220\u9664"))}}]),y=20,a=p([]),i=p(""),r=p(1),s=p(1),c=S(),h=O(R,500);let x;U(()=>{V(()=>{i.value.trim()!=""?(i.value.trim()!=x&&(r.value=1,x=i.value.trim()),h(c.params.id,i.value,y,r.value,a,s)):F(c.params.id,y,r.value,a,s)})});const w=$();function C(){i.value.trim()!=""?h(i.value,20,r.value,a,s):F(c.params.id,20,r.value,a,s)}return(u,t)=>{const n=q,B=H,D=J,b=L,M=E;return z(),A(M,{title:"\u5F71\u7247\u7BA1\u7406",size:"small"},{"header-extra":o(()=>[e(l(g),null,{default:o(()=>[e(B,{value:i.value,"onUpdate:value":t[0]||(t[0]=d=>i.value=d),placeholder:"\u641C\u7D22",round:""},{prefix:o(()=>[e(n,{component:l(G)},null,8,["component"])]),_:1},8,["value"]),_("div",Q,[e(l(f),{text:"",type:"primary",style:{"font-size":"24px"},disabled:""},{default:o(()=>[e(n,null,{default:o(()=>[e(l(K))]),_:1})]),_:1})]),_("div",T,[e(l(f),{text:"",type:"info",style:{"font-size":"24px"},onClick:C},{default:o(()=>[e(n,null,{default:o(()=>[e(l(P))]),_:1})]),_:1})])]),_:1})]),default:o(()=>[e(D,{columns:k.value,data:a.value,bordered:!1,"single-line":!1},null,8,["columns","data"]),_("div",W,[e(l(g),{justify:"center"},{default:o(()=>[e(b,{page:r.value,"onUpdate:page":t[1]||(t[1]=d=>r.value=d),"page-count":s.value},null,8,["page","page-count"])]),_:1})])]),_:1})}}});export{Fe as default};
