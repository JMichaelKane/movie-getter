import{S as d}from"./public.274a3d6c.js";import{p as D}from"./path.522a7fb5.js";import{s as c}from"./data.b027c444.js";import{u as F,G as o,H as x,S as B,C as v,D as k}from"./api.a740a855.js";import{F as S,A as E,R as N}from"./RefreshCircleOutline.0ec94b9d.js";import{d as z,r as A,Q as b,Z as V,T as i,b7 as O,S as n,X as a,U as m,bm as r,h as l}from"./index.93d251dd.js";import{N as U}from"./Switch.acd85570.js";import{N as G,_ as p}from"./Space.6069cd8c.js";import{_ as R}from"./Input.e2a3ea96.js";import{_ as $}from"./DataTable.d0689ec9.js";import"./Checkbox.2a5f9b96.js";import"./Dropdown.7388bb1c.js";import"./next-frame-once.da993024.js";const H={style:{display:"flex","align-items":"center",height:"100%"}},I={style:{display:"flex","align-items":"center",height:"100%"}},ee=z({__name:"PanelSource",setup(j){D.value=[{name:"\u91C7\u96C6\u6E90",params:null,to:""}];const _=A([{title:"ID",key:"id",width:100,align:"center"},{title:"\u8D44\u6E90\u5E93\u540D",key:"name",width:150,align:"center",render(e,t){return l(d,{value:e.name,onUpdateValue(u){c.value[t].name=u}})}},{title:"\u5730\u5740",key:"url",align:"center",render(e,t){return l(d,{value:e.url,onUpdateValue(u){c.value[t].url=u}})}},{title:"\u91C7\u96C6\u8FDB\u5EA6",key:"complete",align:"center",width:100,render(e,t){return l("div",e.complete?"\u5DF2\u5B8C\u6210":"\u672A\u5B8C\u6210")}},{title:"\u91C7\u96C6\u60C5\u51B5",key:"getting",align:"center",width:100,render(e,t){return l(U,{value:e.getting,onUpdateValue:u=>{e.id!=0&&x(e.id,e.getting).then(()=>{e.getting=!e.getting})}})}},{title:"\u64CD\u4F5C",key:"action",width:"300px",align:"center",render(e,t){return l(p,{justify:"center"},()=>[e.id!=0?l(r,{secondary:!0,type:"info",size:"small",onClick:()=>{B(e.id).then(()=>{o(),s.success({duration:2e3,content:"\u91CD\u65B0\u91C7\u96C6",meta:"\u64CD\u4F5C\u6210\u529F"})})}},()=>"\u91CD\u65B0\u91C7\u96C6"):"",[e.create?l(r,{secondary:!0,type:"info",size:"small",onClick:()=>{e.url.trim()!=""?v(e.name,e.url).then(()=>{o(),s.success({duration:2e3,content:"\u4FDD\u5B58",meta:"\u64CD\u4F5C\u6210\u529F"})}):s.info({duration:2e3,content:"\u4FDD\u5B58",meta:"url\u4E0D\u6B63\u786E"})}},()=>"\u4FDD\u5B58"):null,,l(r,{secondary:!0,type:"error",size:"small",onClick:()=>{e.id!=0?k(e.id).then(()=>{o(),s.success({duration:2e3,content:"\u5220\u9664",meta:"\u64CD\u4F5C\u6210\u529F"})}):o()}},()=>"\u5220\u9664")]])}}]),s=F();function f(){c.value.push({id:0,name:"\u65B0\u5EFA\u91C7\u96C6\u6E90",url:"\u5F85\u6DFB\u52A0",getting:!1,complete:!1,create:!0})}return(e,t)=>{const u=G,C=R,g=$,h=O;return b(),V(h,{title:"\u91C7\u96C6\u6E90",size:"small"},{"header-extra":i(()=>[n(a(p),null,{default:i(()=>[n(C,{placeholder:"\u641C\u7D22",disabled:!0,round:""},{prefix:i(()=>[n(u,{component:a(S)},null,8,["component"])]),_:1}),m("div",H,[n(a(r),{text:"",type:"primary",style:{"font-size":"24px"},onClick:t[0]||(t[0]=y=>f())},{default:i(()=>[n(u,null,{default:i(()=>[n(a(E))]),_:1})]),_:1})]),m("div",I,[n(a(r),{text:"",type:"info",style:{"font-size":"24px"},onClick:t[1]||(t[1]=y=>a(o)())},{default:i(()=>[n(u,null,{default:i(()=>[n(a(N))]),_:1})]),_:1})])]),_:1})]),default:i(()=>[n(g,{columns:_.value,data:a(c),bordered:!1,"single-line":!1},null,8,["columns","data"])]),_:1})}}});export{ee as default};
