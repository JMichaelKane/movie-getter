import{d as U,r as p,q as M,by as N,Z as V,T as a,h as c,bl as _,b6 as z,Q as E,S as e,X as s,U as f,bB as O}from"./index.824bfb63.js";import{S as v,c as A}from"./public.a1dc7c5e.js";import{p as R}from"./path.dd2cdd3d.js";import{u as j,d as G,k as F,l as I}from"./api.843ae6f5.js";import{F as K,A as P,R as $}from"./RefreshCircleOutline.afbea877.js";import{N as q,_ as g}from"./Space.4b1b62fb.js";import{_ as Q}from"./Input.10390b67.js";import{_ as T,a as X}from"./DataTable.a1eae513.js";import"./data.c351b717.js";import"./Checkbox.88b017cf.js";import"./Dropdown.e0bd736a.js";import"./next-frame-once.311e58cd.js";const Z={style:{display:"flex","align-items":"center",height:"100%"}},H={style:{display:"flex","align-items":"center",height:"100%"}},J={style:{"margin-top":"15px","margin-bottom":"10px"}},pe=U({__name:"PanelSourceMovie",setup(L){R.value=[{name:"\u91C7\u96C6\u6E90",params:null,to:""},{name:"\u5F71\u7247",params:null,to:""}];const k=p([{title:"ID",key:"id",width:"100px",align:"center"},{title:"\u5F71\u7247\u540D",key:"name",width:"200px",ellipsis:!0,align:"center",render(l,t){return c(v,{value:l.name,onUpdateValue(n){o.value[t].name=n}})}},{title:"\u65F6\u957F",key:"duration",width:"100px",align:"center",render(l,t){return c(v,{value:l.duration,onUpdateValue(n){o.value[t].duration=n}})}},{title:"\u7B80\u4ECB",key:"description",ellipsis:!0,align:"center",render(l,t){return c(v,{value:l.description,onUpdateValue(n){o.value[t].description=n}})}},{title:"\u5BFC\u6F14",key:"director",ellipsis:!0,align:"center",width:"200px"},{title:"\u64CD\u4F5C",key:"action",width:"150px",align:"center",render(l,t){return c(g,{justify:"center"},()=>c(_,{secondary:!0,type:"error",size:"small",onClick:()=>{G(l.id).then(()=>{C(),w.success({duration:2e3,content:"\u5220\u9664",meta:"\u64CD\u4F5C\u6210\u529F"})})}},()=>"\u5220\u9664"))}}]),y=20,o=p([]),u=p(""),i=p(1),r=p(1),d=O(),h=A(I,500);let x;M(()=>{N(()=>{u.value.trim()!=""?(u.value.trim()!=x&&(i.value=1,x=u.value.trim()),h(d.params.id,u.value,y,i.value,o,r)):F(d.params.id,y,i.value,o,r)})});const w=j();function C(){u.value.trim()!=""?h(u.value,20,i.value,o,r):F(d.params.id,20,i.value,o,r)}return(l,t)=>{const n=q,B=Q,b=T,D=X,S=z;return E(),V(S,{title:"\u5F71\u7247\u7BA1\u7406",size:"small"},{"header-extra":a(()=>[e(s(g),null,{default:a(()=>[e(B,{value:u.value,"onUpdate:value":t[0]||(t[0]=m=>u.value=m),placeholder:"\u641C\u7D22",round:""},{prefix:a(()=>[e(n,{component:s(K)},null,8,["component"])]),_:1},8,["value"]),f("div",Z,[e(s(_),{text:"",type:"primary",style:{"font-size":"24px"},disabled:""},{default:a(()=>[e(n,null,{default:a(()=>[e(s(P))]),_:1})]),_:1})]),f("div",H,[e(s(_),{text:"",type:"info",style:{"font-size":"24px"},onClick:C},{default:a(()=>[e(n,null,{default:a(()=>[e(s($))]),_:1})]),_:1})])]),_:1})]),default:a(()=>[e(b,{columns:k.value,data:o.value,bordered:!1,"single-line":!1},null,8,["columns","data"]),f("div",J,[e(s(g),{justify:"center"},{default:a(()=>[e(D,{page:i.value,"onUpdate:page":t[1]||(t[1]=m=>i.value=m),"page-count":r.value},null,8,["page","page-count"])]),_:1})])]),_:1})}}});export{pe as default};
